!function(t){var o=wp.element.createElement,e=wp.blocks.registerBlockType,a=wp.components.SelectControl;function l(e){return e.replace(/\\(.)/gm,"$1")}e("image-map-pro/image-map-pro",{title:"Image Map Pro",category:"widgets",attributes:{shortcode:{type:"string"},saves:{type:"text"},didLoadSaves:{type:"bool",default:!1},nonce:{type:"string",default:null}},edit:function(n){console.log(image_map_pro_locals),console.log(image_map_pro_locals.nonce);var e={action:"image_map_pro_get_saves_list",nonce:image_map_pro_locals.nonce};return t.post(ajaxurl,e).done(function(t){var e=0;try{t=(t=l(t)).replace(/\\'/g,"'"),e=JSON.parse(t);for(var o=[],a=0;a<e.length;a++)o.push({value:"["+e[a].shortcode+"]",label:e[a].name});var s=!1;for(a=0;a<e.length;a++)if("["+e[a].shortcode+"]"==n.attributes.shortcode){s=!0;break}var r={};s&&n.attributes.shortcode||(console.log("store shortcode"),r.shortcode=o[0].value),JSON.stringify(n.attributes.saves)!==JSON.stringify(o)&&(console.log("store saves"),r.saves=o),(r.saves||r.shortcode)&&n.setAttributes(r)}catch(e){t=(t=l(t)).replace(/\\'/g,"'"),console.log(e),console.log("Failed to load saves list."),console.log(t)}}),o(a,{label:"Select an Image Map",value:n.attributes.shortcode,options:n.attributes.saves,onChange:function(e){n.setAttributes({shortcode:e})}})},save:function(e){return o("div",{},e.attributes.shortcode)}})}(jQuery,(window,document));